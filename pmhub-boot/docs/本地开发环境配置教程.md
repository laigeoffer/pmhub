# æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®æ•™ç¨‹

## 1. ç¯å¢ƒå‡†å¤‡

é¦–å…ˆå‡†å¤‡å¥½åŸºç¡€çš„å¼€å‘ç¯å¢ƒï¼Œå¦‚

- jdk/jre: è¯·å®‰è£…jdk8+ä»¥ä¸Šç‰ˆæœ¬
- maven: æœ¬é¡¹ç›®åŸºäºmavenä½œä¸ºé¡¹ç›®ç®¡ç†å·¥å…·ï¼Œå› æ­¤åœ¨å¯åŠ¨ä¹‹å‰è¯·é…ç½®å¥½mavenç›¸å…³ç¯å¢ƒ
- MySqlæ•°æ®åº“
    - ç‰ˆæœ¬æ”¯æŒï¼š5.7+
    - è¯´æ˜ï¼šæ•°æ®åº“å¯ä»¥ä½¿ç”¨æœ¬æœºçš„æ•°æ®åº“ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨éæœ¬æœºçš„ï¼ˆè¯·æ³¨æ„æœ¬æœºèƒ½æ­£å¸¸è®¿é—®ï¼‰
- gitç‰ˆæœ¬ç®¡ç†
- å¼€å‘å·¥å…·ï¼šå»ºè®®ideaï¼Œå½“ç„¶eclipse/vsä¹Ÿæ²¡æœ‰é—®é¢˜

## 2. åç«¯é¡¹ç›®å¯åŠ¨

### ç¬¬ä¸€æ­¥ï¼Œä¸‹è½½é¡¹ç›®æºç 

â‘ ã€ä½¿ç”¨ Git å‘½ä»¤

ç½‘ç»œæ¯”è¾ƒé€šç•…çš„å°ä¼™ä¼´å¯ä»¥ç›´æ¥ä» GitHub ä¸Šæ‹‰å–ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š

```
git clone git@github.com:laigeoffer/pmhub.git
```

å›½å†…çš„å°ä¼™ä¼´ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç äº‘ Gitee ä¸Šçš„é•œåƒä»“åº“åœ°å€æ‹‰å–ï¼š

```
git clone https://gitee.com/laigeoffer/pmhub.git
```

â‘¡ã€ç›´æ¥ä¸‹è½½å‹ç¼©åŒ…

ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ GitHub ä¸Šçš„å‹ç¼©åŒ…ï¼Œç„¶åè§£å‹åˆ°æœ¬åœ°ã€‚

- GitHub åœ°å€ï¼š[https://github.com/laigeoffer/pmhub](https://github.com/laigeoffer/pmhub)
- ç äº‘åœ°å€ï¼š[https://gitee.com/laigeoffer/pmhub](https://gitee.com/laigeoffer/pmhub)

![ä¸‹è½½é¡¹ç›®æºç å‹ç¼©åŒ…](https://cdn.tobebetterjavaer.com/images/20240324/76023993f091417a800ec7da19989e88.png)

â‘¢ã€ç›´æ¥é€šè¿‡ GitHub æ¡Œé¢ç‰ˆ

æˆ‘ä¸ªäººä¸€ç›´æ¯”è¾ƒå–œæ¬¢å®ç”¨ GitHub æ¡Œé¢ç‰ˆæ¥ç®¡ç†ä»“åº“ï¼Œå›¾å½¢åŒ–ç•Œé¢æ“ä½œèµ·æ¥ä¹Ÿæ¯”è¾ƒèˆ’æœã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/27136b6558d84edb861461ca5452021d.png)

### ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨ Intellij IDEA å¯¼å…¥é¡¹ç›®

è¿™ä¸€æ­¥åº”è¯¥å°±ä¸éœ€è¦æˆ‘å¤šè®²äº†ï¼Œç›¸ä¿¡å¤§å®¶éƒ½èƒ½æå®šã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/62ee1affa2fd46ed89eaaa2d6931198b.png)

### ç¬¬ä¸‰æ­¥ï¼Œå¯¼å…¥æ•°æ®åº“

æ¨èå¤§å®¶ä½¿ç”¨ [Navicat](https://javabetter.cn/nice-article/itmind/navicatmacyjpx.html) è¿™æ¬¾å›¾å½¢åŒ–æ•°æ®åº“ç®¡ç†å·¥å…·ã€‚

â‘ ã€åˆ›å»ºæ•°æ®åº“ laigeoffer-pmhub

>ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–åå­—ï¼Œåªè¦åœ¨é…ç½®æ–‡ä»¶é‡Œä¿®æ”¹å¯¹åº”çš„æ•°æ®åº“åå³å¯ã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/83b5e36a95e04e3d951641215ff16dcf.png)


â‘¡ã€å¯¼å…¥æ•°æ®åº“æ–‡ä»¶ï¼Œè·¯å¾„åœ¨ pmhub/sql/pmhub_20240305.sql

![](https://cdn.tobebetterjavaer.com/images/20240324/327783d299814ff8837ab5c3c64b3ff5.png)

å¯ä»¥ç›´æ¥å³é”®åœ¨ terminal ç»ˆç«¯ä¸­æ‰“å¼€ï¼Œç„¶åé€šè¿‡ pwd å’Œ ls å‘½ä»¤æŸ¥çœ‹æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/24f0cbafe1fb4995827015c294196eb2.png)

æ‹¿åˆ°ç»å¯¹è·¯å¾„åï¼Œå°±å¯ä»¥åœ¨ Navicat ä¸­å¯¼å…¥æ•°æ®åº“æ–‡ä»¶äº†ã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/aa4cb8f705aa4f46a7d4835c9d26a596.png)

å¯¼å…¥å®Œæˆåï¼Œåˆ·æ–°ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°æœ€æ–°çš„æ•°æ®åº“è¡¨äº†ã€‚

### ç¬¬å››æ­¥ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶

åœ¨ pmhub/pmhub-admin/src/main/resources/application-local.yml ä¸­ä¿®æ”¹æ•°æ®åº“è¿æ¥ä¿¡æ¯ã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/6a39a64bee524e5daf4edb388eebf14f.png)

1. å¦‚æœæ•°æ®åº“åä¹Ÿæ˜¯ laigeoffer-pmhubï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹ç”¨æˆ·åå’Œå¯†ç å³å¯ã€‚
2. å¦‚æœç”¨æˆ·åä¹Ÿæ˜¯ rootï¼Œé‚£ä¹ˆåªéœ€è¦ä¿®æ”¹å¯†ç å³å¯ã€‚
3. å¦‚æœå¯†ç ä¹Ÿä¸€æ ·ï¼Œé‚£ä¹ˆå°±ä¸éœ€è¦ä¿®æ”¹äº†ï¼ˆä¸å¯èƒ½ï¼Œç»å¯¹ä¸å¯èƒ½è¿™ä¹ˆå·§ğŸ˜‚ï¼‰ã€‚

### ç¬¬äº”æ­¥ï¼Œå¯åŠ¨ Redis

â‘ ã€å¦‚æœä½ æ˜¯ macOS ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥`redis-server`å¯åŠ¨ Redisã€‚

![](https://cdn.tobebetterjavaer.com/images/README/1711692102829.png)

â‘¡ã€å¦‚æœä½ æ˜¯ Windows ç”¨æˆ·ï¼Œå¯ä»¥ç›´æ¥åŒå‡» redis-server.exe å¯åŠ¨ Redisã€‚

### ç¬¬å…­æ­¥ï¼Œå¯åŠ¨é¡¹ç›®

æ‰¾åˆ° PmhubApplication ç±»ï¼Œå³é”® Run PmhubApplication.main()ã€‚

![ä¸»ç±»å°±åœ¨ admin ä¸­](https://cdn.tobebetterjavaer.com/images/20240324/7a2259e197014c33be4355025f87266a.png)

å¦‚æœå‡ºç°ä»¥ä¸‹çš„æ—¥å¿—ï¼Œè¡¨æ˜é¡¹ç›®å·²ç»å¯åŠ¨æˆåŠŸäº†ã€‚

![](https://cdn.tobebetterjavaer.com/images/20240324/42274fdded6d44cbb942ca951f36bf68.png)


- local: æœ¬åœ°å¼€å‘ç¯å¢ƒ
- test: æµ‹è¯•ç¯å¢ƒ
- pre: é¢„å‘ç¯å¢ƒ
- prod: ç”Ÿäº§ç¯å¢ƒ

é»˜è®¤çš„ç¯å¢ƒé€‰æ‹©æ˜¯`local`ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢ä¸¤ç§æ–¹å¼è¿›è¡Œç¯å¢ƒåˆ‡æ¢

**case1: å‘½ä»¤åˆ‡æ¢**

```bash
# åˆ‡æ¢åˆ°testç¯å¢ƒ
mvn clean package -DskipTests=true -Ptest
```

**case2: ideaåˆ‡æ¢**

![](https://cdn.tobebetterjavaer.com/images/20240108/ddd4af8aaf34448fa20ddb11789a94f7.png)


æ¥ä¸‹æ¥ä»¥é»˜è®¤çš„ local ç¯å¢ƒé…ç½®ä¸ºä¾‹ï¼Œé¦–å…ˆè¿›å…¥é…ç½®æ–‡ä»¶ [application-local.yml](../forum-web/src/main/resources-env/dev/application-dal.yml)

```yaml
spring:
  datasource:
    # æ•°æ®åº“åï¼Œä»é…ç½® database.name ä¸­è·å–
    url: jdbc:mysql://127.0.0.1:3306/${database.name}?useUnicode=true&characterEncoding=UTF-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password:
```

ä¸Šé¢çš„æ•°æ®åº“ä¸­ï¼Œé€šå¸¸æ¥è®²éœ€è¦ä¿®æ”¹çš„æœ‰ä¸‰ä¸ª

- url: ä¸»è¦ä¿®æ”¹çš„å°±æ˜¯è¿™ä¸ªæ•°æ®åº“çš„åŸŸå + ç«¯å£å·ï¼Œå³å°†`127.0.0.1:3306`æ›¿æ¢ä¸ºæ‚¨å®é™…ä½¿ç”¨çš„æ•°æ®åº“åœ°å€
- username: æ•°æ®åº“å
- password: æ•°æ®åº“å¯†ç 

## 3ã€å‰ç«¯é¡¹ç›®å¯åŠ¨
ç¬¬ä¸€æ­¥ï¼Œæ¨èä½¿ç”¨ VSCode æ‰“å¼€ pmhub-ui é¡¹ç›®ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240329133716.png)

ç¬¬äºŒæ­¥ï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œæ‰§è¡Œ `npm install` å®‰è£…ä¾èµ–ï¼š

é¡¹ç›®ä¾èµ– Nodejs ç¯å¢ƒï¼Œéœ€è¦æå‰å®‰è£…ã€‚æ­¤å¤„ç•¥è¿‡ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240324122950.png)

ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ cnpm å®‰è£…ä¾èµ–ï¼Œä¼šæœ‰å„ç§è¯¡å¼‚çš„ bugã€‚å¯ä»¥é€šè¿‡å¦‚ä¸‹æ“ä½œè§£å†³ npm ä¸‹è½½é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚

```bash
npm install --registry=https://registry.npmmirror.com
```

å¦‚æœå‡ºç° `npm ERR! code EIDLETIMEOUT` é”™è¯¯ï¼Œä¸€èˆ¬æ˜¯å› ä¸ºç½‘ç»œé—®é¢˜å¯¼è‡´çš„ï¼Œå¯ä»¥é‡æ–°å†æ‰§è¡Œä¸€æ¬¡ `npm install`ã€‚

ç¬¬ä¸‰æ­¥ï¼Œå®‰è£…å®Œä¾èµ–åï¼Œæ‰§è¡Œ `npm run dev` å¯åŠ¨é¡¹ç›®ï¼š

å¦‚æœ Nodejs ç‰ˆæœ¬è¿‡æ–°ï¼Œå¯èƒ½ä¼šå‡ºç°`Error: error:0308010C:digital envelope routines::unsupported`è¿™ä¸ªé—®é¢˜ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240324123352.png)

â‘ ã€å¦‚æœä½ æ˜¯ Windows ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ cmd å‘½ä»¤è¡Œä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
set NODE_OPTIONS=--openssl-legacy-provider
```

ä¹Ÿå¯ä»¥åœ¨ PowerShell ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
$env:NODE_OPTIONS="--openssl-legacy-provider"
```

â‘¡ã€å¦‚æœä½ æ˜¯ macOS ç”¨æˆ·ï¼Œå¯ä»¥åœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
export NODE_OPTIONS=--openssl-legacy-provider
```

ä¹‹åå†æ¬¡æ‰§è¡Œ `npm run dev` å³å¯æ­£å¸¸å¯åŠ¨é¡¹ç›®ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240324123905.png)

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:1024`ï¼Œå³å¯çœ‹åˆ° pmhub-ui é¡¹ç›®ç™»å½•é¡µé¢ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240324124027.png)

ç¬¬å››æ­¥ï¼Œå¾®ä¿¡æœç´¢ã€Œè‹ä½•ã€ï¼Œå…³æ³¨æˆ‘ä»¬çš„å…¬ä¼—å·ï¼Œå›å¤ `pmhub` è·å–è´¦å·å’Œå¯†ç ï¼Œå¸®æˆ‘ä»¬å¢åŠ ä¸€ä¸ªç²‰ä¸ï¼Œå“ˆå“ˆå“ˆï¼Œå¼€æºä¸æ˜“ï¼Œè¯·æ»¡è¶³ä¸€ä¸‹æˆ‘çš„è™šè£å¿ƒï¼ˆğŸ˜ï¼‰ã€‚

![](https://cdn.tobebetterjavaer.com/stutymore/README-20240329142637.png)

ç¬¬äº”æ­¥ï¼Œè¾“å…¥è´¦å·å¯†ç ç™»å½•ï¼Œå³å¯çœ‹åˆ° pmhub-ui é¡¹ç›®ä¸»é¡µã€‚

## pmhub-ui å‘å¸ƒè¯´æ˜

```bash
# æ„å»ºæµ‹è¯•ç¯å¢ƒ
npm run build:stage

# æ„å»ºç”Ÿäº§ç¯å¢ƒ
npm run build:prod
````

